---
interface Testimonial {
  message: string;
  name: string;
  align?: 'left' | 'right';
}

interface Props {
  testimonials: Testimonial[];
  class?: string;
}

const { testimonials, class: className = '' } = Astro.props;
---

<div class={`testimonial-chat space-y-4 ${className}`}>
  {
    testimonials.map((testimonial, index) => {
      const align = testimonial.align || (index % 2 === 0 ? 'left' : 'right');
      return (
        <div class={`flex ${align === 'right' ? 'justify-end' : 'justify-start'}`}>
          <div class="max-w-xs md:max-w-md">
            <div
              class={`px-4 py-3 border-4 border-black dark:border-white shadow-brutal ${
                align === 'right'
                  ? 'bg-pastel-pink text-black font-bold'
                  : 'bg-pastel-blue text-black dark:bg-gray-900 dark:text-white font-bold'
              }`}
            >
              <p class="text-sm md:text-base font-semibold">{testimonial.message}</p>
            </div>
            <p
              class={`text-xs font-bold text-black dark:text-white mt-2 ${
                align === 'right' ? 'text-right' : 'text-left'
              }`}
            >
              {testimonial.name}
            </p>
          </div>
        </div>
      );
    })
  }
</div>
