---
import Layout from '~/layouts/PageLayout.astro';
import FAQs from '~/components/widgets/FAQs.astro';
import CallToAction from '~/components/widgets/CallToAction.astro';

const metadata = {
  title: 'Pricing - From $1.20 Per Song | Custom AI Music | YourBanger.com',
  description: 'Create personalized AI songs from $10. Choose from 3, 10, or 25 song packages. No subscription, credits never expire. Custom birthday songs, wedding songs & more.',
  openGraph: {
    title: 'YourBanger.com Pricing - Custom AI Songs From $1.20 Each',
    description: 'Song packages from $10. No subscription. Credits never expire. Professional AI music creation.',
    type: 'website',
  },
};

// Credit packages matching the app
const packages = [
  {
    name: 'Starter',
    credits: 3,
    price: 10,
    perSong: '3.33',
    description: 'Perfect for trying it out',
    popular: false,
    savings: null,
  },
  {
    name: 'Standard',
    credits: 10,
    price: 20,
    perSong: '2.00',
    description: 'Most popular choice',
    popular: true,
    savings: 'Save 40%',
  },
  {
    name: 'Value',
    credits: 25,
    price: 30,
    perSong: '1.20',
    description: 'Best value for creators',
    popular: false,
    savings: 'Save 64%',
  },
];

// Product schema data for SEO
const productSchema = {
  '@context': 'https://schema.org',
  '@type': 'Product',
  name: 'YourBanger.com Song Credits',
  description: 'Personalized AI-generated songs. Create custom music for birthdays, weddings, and special moments.',
  brand: {
    '@type': 'Brand',
    name: 'YourBanger.com'
  },
  offers: [
    {
      '@type': 'Offer',
      name: 'Starter - 3 Songs',
      price: '10.00',
      priceCurrency: 'USD',
      availability: 'https://schema.org/InStock',
      url: 'https://yourbanger.com/pricing',
      priceValidUntil: '2026-12-31',
    },
    {
      '@type': 'Offer',
      name: 'Standard - 10 Songs',
      price: '20.00',
      priceCurrency: 'USD',
      availability: 'https://schema.org/InStock',
      url: 'https://yourbanger.com/pricing',
      priceValidUntil: '2026-12-31',
    },
    {
      '@type': 'Offer',
      name: 'Value - 25 Songs',
      price: '30.00',
      priceCurrency: 'USD',
      availability: 'https://schema.org/InStock',
      url: 'https://yourbanger.com/pricing',
      priceValidUntil: '2026-12-31',
    },
  ],
  aggregateRating: {
    '@type': 'AggregateRating',
    ratingValue: '4.9',
    reviewCount: '127',
    bestRating: '5',
    worstRating: '1'
  }
};
---

<Layout metadata={metadata}>
  <!-- Product Schema for SEO -->
  <script type="application/ld+json" set:html={JSON.stringify(productSchema)} />

  <!-- Hero Section -->
  <section class="py-16 md:py-24">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 text-center">
      <h1 class="text-4xl md:text-5xl font-bold text-[var(--foreground)] mb-4">
        Simple, Transparent Pricing
      </h1>
      <p class="text-xl text-[var(--muted-foreground)]">
        No subscription. No hidden fees. Credits never expire.
      </p>
    </div>
  </section>

  <!-- Pricing Cards -->
  <section class="py-8 md:py-12">
    <div class="max-w-6xl mx-auto px-4 sm:px-6">
      <div class="grid md:grid-cols-3 gap-6 md:gap-8">
        {packages.map((pkg) => (
          <div class={`relative bg-[var(--card)] border rounded-2xl p-6 md:p-8 flex flex-col ${pkg.popular ? 'border-[var(--primary)] border-2' : 'border-[var(--border)]'}`}>
            {pkg.popular && (
              <div class="absolute -top-4 left-1/2 -translate-x-1/2">
                <span class="bg-[var(--primary)] text-white text-sm font-bold px-4 py-1 rounded-full">
                  Most Popular
                </span>
              </div>
            )}
            {pkg.savings && (
              <div class="absolute -top-3 right-4">
                <span class="bg-green-500 text-white text-xs font-bold px-3 py-1 rounded-full">
                  {pkg.savings}
                </span>
              </div>
            )}
            
            <div class="text-center mb-6">
              <h2 class="text-2xl font-bold text-[var(--foreground)] mb-1">{pkg.name}</h2>
              <p class="text-[var(--muted-foreground)] text-sm">{pkg.description}</p>
            </div>

            <div class="text-center mb-6">
              <div class="flex items-baseline justify-center">
                <span class="text-4xl md:text-5xl font-bold text-[var(--foreground)]">${pkg.price}</span>
              </div>
              <p class="text-lg text-[var(--primary)] font-semibold mt-1">
                {pkg.credits} Songs
              </p>
              <p class="text-sm text-[var(--muted-foreground)]">
                ${pkg.perSong} per song
              </p>
            </div>

            <div class="flex-grow">
              <ul class="space-y-3 text-sm text-[var(--foreground)] mb-6">
                <li class="flex items-center">
                  <svg class="w-4 h-4 text-[var(--primary)] mr-2 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path>
                  </svg>
                  2 unique versions per song
                </li>
                <li class="flex items-center">
                  <svg class="w-4 h-4 text-[var(--primary)] mr-2 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path>
                  </svg>
                  MP3 download to keep forever
                </li>
                <li class="flex items-center">
                  <svg class="w-4 h-4 text-[var(--primary)] mr-2 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path>
                  </svg>
                  Shareable page with player
                </li>
                <li class="flex items-center">
                  <svg class="w-4 h-4 text-[var(--primary)] mr-2 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path>
                  </svg>
                  Karaoke-style lyrics display
                </li>
                <li class="flex items-center">
                  <svg class="w-4 h-4 text-[var(--primary)] mr-2 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path>
                  </svg>
                  Share to WhatsApp, Facebook & more
                </li>
                <li class="flex items-center">
                  <svg class="w-4 h-4 text-[var(--primary)] mr-2 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path>
                  </svg>
                  Credits never expire
                </li>
              </ul>
            </div>

            <a
              href="https://app.yourbanger.com/auth?tab=signup"
              target="_blank"
              rel="noopener noreferrer"
              class={`block w-full text-center px-6 py-3 font-bold rounded-xl transition-all duration-200 ${
                pkg.popular 
                  ? 'bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90 shadow-lg shadow-[var(--primary)]/25' 
                  : 'bg-[var(--secondary)] text-[var(--foreground)] hover:bg-[var(--secondary)]/80 border border-[var(--border)]'
              }`}
            >
              Get {pkg.credits} Songs
            </a>
          </div>
        ))}
      </div>

      <p class="text-center text-[var(--muted-foreground)] mt-8 text-sm">
        Each song credit generates 2 unique variations you can choose from. Secure payment via Stripe.
      </p>
    </div>
  </section>

  <!-- Comparison Section -->
  <section class="bg-[var(--secondary)]/30 py-16 md:py-20">
    <div class="max-w-5xl mx-auto px-4 sm:px-6">
      <h2 class="text-3xl md:text-4xl font-bold text-[var(--foreground)] text-center mb-4">
        Your Other Options
      </h2>
      <p class="text-center text-[var(--muted-foreground)] mb-12">
        (Spoiler: they're all worse)
      </p>
      <div class="bg-[var(--card)] rounded-2xl border border-[var(--border)] overflow-hidden">
        <div class="overflow-x-auto">
          <table class="w-full">
            <thead class="bg-[var(--secondary)]">
              <tr>
                <th class="px-6 py-4 text-left text-sm font-semibold text-[var(--foreground)]">Option</th>
                <th class="px-6 py-4 text-left text-sm font-semibold text-[var(--foreground)]">Cost</th>
                <th class="px-6 py-4 text-left text-sm font-semibold text-[var(--foreground)]">Time</th>
                <th class="px-6 py-4 text-left text-sm font-semibold text-[var(--foreground)]">Personalization</th>
              </tr>
            </thead>
            <tbody class="divide-y divide-[var(--border)]">
              <tr class="bg-[var(--primary)]/10">
                <td class="px-6 py-4 font-semibold text-[var(--primary)]">YourBanger.com</td>
                <td class="px-6 py-4 text-[var(--foreground)] font-semibold">From $1.20</td>
                <td class="px-6 py-4 text-[var(--foreground)]">~3 minutes</td>
                <td class="px-6 py-4 text-[var(--foreground)]">100% custom lyrics & music</td>
              </tr>
              <tr>
                <td class="px-6 py-4 text-[var(--foreground)]">Hire a musician on Fiverr</td>
                <td class="px-6 py-4 text-[var(--muted-foreground)]">$100–500+</td>
                <td class="px-6 py-4 text-[var(--muted-foreground)]">3–14 days</td>
                <td class="px-6 py-4 text-[var(--muted-foreground)]">Limited revisions</td>
              </tr>
              <tr>
                <td class="px-6 py-4 text-[var(--foreground)]">Cameo video</td>
                <td class="px-6 py-4 text-[var(--muted-foreground)]">$50–500</td>
                <td class="px-6 py-4 text-[var(--muted-foreground)]">1–7 days</td>
                <td class="px-6 py-4 text-[var(--muted-foreground)]">30-second shoutout</td>
              </tr>
              <tr>
                <td class="px-6 py-4 text-[var(--foreground)]">Greeting card</td>
                <td class="px-6 py-4 text-[var(--muted-foreground)]">$5–10</td>
                <td class="px-6 py-4 text-[var(--muted-foreground)]">Instant</td>
                <td class="px-6 py-4 text-[var(--muted-foreground)]">Your handwriting (maybe)</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </section>

  <!-- Pricing FAQs -->
  <FAQs
    title="Pricing Questions"
    items={[
      {
        title: 'Which package should I choose?',
        description: 'If you\'re new, start with the Starter pack (3 songs for $10) to try it out. The Standard pack (10 songs for $20) is our most popular and great value. The Value pack (25 songs for $30) is perfect if you\'re creating songs for multiple occasions.',
      },
      {
        title: 'Do credits expire?',
        description: 'No, use them whenever you want. They never expire.',
      },
      {
        title: 'Can I buy more credits?',
        description: 'Yes, you can purchase additional credits anytime from your dashboard.',
      },
      {
        title: 'What\'s the refund policy?',
        description: 'If you\'re not happy with your song, we\'ll make it right. See our refund policy for details.',
      },
      {
        title: 'Is there a subscription?',
        description: 'Nope! Just buy credits when you need them. No recurring charges.',
      },
    ]}
  />

  <!-- CTA Section -->
  <CallToAction
    actions={[
      {
        variant: 'primary',
        text: 'Start Creating Songs',
        href: 'https://app.yourbanger.com/auth?tab=signup',
        target: '_blank',
      },
    ]}
  >
    <Fragment slot="title">
      Think About Who'd Love This
    </Fragment>

    <Fragment slot="subtitle">
      That friend with the birthday coming up. Your parents' anniversary. <br class="hidden md:block" />
      Starting at just $10 for 3 songs.
    </Fragment>
  </CallToAction>
</Layout>
